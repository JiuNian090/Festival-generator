<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能节日祝福语生成器</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- 背景图片容器 -->
    <div id="background-container" class="background-container"></div>

    <div class="container">
        <header>
            <h1>智能节日祝福语生成器</h1>
            <p>为亲朋好友、师长、领导送上温馨祝福</p>
        </header>

        <main>
            <div class="form-container fade-in">
                <div class="form-group">
                    <label for="festival">选择节日</label>
                    <select id="festival" required>
                        <option value="" disabled selected>请选择节日</option>
                        <option value="春节">春节</option>
                        <option value="元宵节">元宵节</option>
                        <option value="清明节">清明节</option>
                        <option value="端午节">端午节</option>
                        <option value="七夕">七夕</option>
                        <option value="中秋节">中秋节</option>
                        <option value="重阳节">重阳节</option>
                        <option value="其他">其他</option>
                    </select>
                    <div id="other-festival-container" style="display: none;">
                        <input type="text" id="other-festival" placeholder="请输入其他节日名称">
                    </div>
                </div>

                <div class="form-group">
                    <label for="recipient">祝福对象</label>
                    <select id="recipient" required>
                        <option value="" disabled selected>请选择祝福对象</option>
                        <option value="家人">家人</option>
                        <option value="朋友">朋友</option>
                        <option value="老师">老师</option>
                        <option value="领导">领导</option>
                        <option value="同事">同事</option>
                        <option value="客户">客户</option>
                        <option value="长辈">长辈</option>
                        <option value="晚辈">晚辈</option>
                        <option value="其他">其他</option>
                    </select>
                    <div id="other-recipient-container" style="display: none;">
                        <input type="text" id="other-recipient" placeholder="请输入其他祝福对象">
                    </div>
                </div>

                <div class="form-group">
                    <label for="relationship">关系描述</label>
                    <select id="relationship" class="relation-select">
                        <option value="家人">家人</option>
                        <option value="子女">子女</option>
                        <option value="朋友">朋友</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tone">祝福语气</label>
                    <select id="tone" required>
                        <option value="" disabled selected>请选择祝福语气</option>
                        <option value="温馨">温馨</option>
                        <option value="幽默">幽默</option>
                        <option value="正式">正式</option>
                        <option value="深情">深情</option>
                        <option value="激励">激励</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="length">祝福语长度</label>
                    <select id="length" required>
                        <option value="" disabled selected>请选择祝福语长度</option>
                        <option value="short">简短（10 - 20字）</option>
                        <option value="medium">中等（30 - 50字）</option>
                        <option value="long">较长（80 - 120字）</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="keywords">关键词（选填）</label>
                    <input type="text" id="keywords" placeholder="例如：健康、幸福、事业有成，多个关键词用逗号分隔">
                </div>

                <button id="generate-btn" class="btn">生成祝福语 <i class="fas fa-magic"></i></button>

                <div id="loading" class="loading">
                    <div class="loading-spinner"></div>
                    <p>正在生成祝福语...</p>
                </div>
            </div>

            <div class="result-container fade-in" id="result-container" style="display: none;">
                <h2>生成的祝福语</h2>
                <div class="result-content" id="result-content"></div>
                <div class="result-actions">
                    <button id="copy-btn" class="btn"><i class="fas fa-copy"></i> 复制</button>
                    <button id="share-btn" class="btn"><i class="fas fa-share-alt"></i> 分享</button>
                    <button id="regenerate-btn" class="btn"><i class="fas fa-redo"></i> 重新生成</button>
                </div>
            </div>

            <div class="festival-info fade-in" id="festival-info" style="display: none;">
                <h2 id="festival-title"></h2>
                <p id="festival-description"></p>
                <div class="festival-tags">
                    <span class="tag" id="festival-tag"></span>
                </div>
                <div class="festival-keywords" id="festival-keywords">
                    <h3>相关关键词：</h3>
                    <div class="keywords-list"></div>
                </div>
            </div>
        </main>

        <footer>
            <p>© 2023 智能节日祝福语生成器 | 设计与开发</p>
            <div class="social-links">
                <a href="#" aria-label="微信"><i class="fab fa-weixin"></i></a>
                <a href="#" aria-label="微博"><i class="fab fa-weibo"></i></a>
                <a href="#" aria-label="邮箱"><i class="fas fa-envelope"></i></a>
            </div>
        </footer>
    </div>

    <!-- 分享模态框 -->
    <div id="share-modal" class="modal">
        <div class="modal-content fade-in">
            <span class="close">&times;</span>
            <h2>分享祝福语</h2>
            <div class="share-options">
                <button class="share-btn weixin" id="weixin-share"><i class="fab fa-weixin"></i> 微信</button>
                <button class="share-btn weibo" id="weibo-share"><i class="fab fa-weibo"></i> 微博</button>
                <button class="share-btn qq" id="qq-share"><i class="fab fa-qq"></i> QQ</button>
                <button class="share-btn link" id="link-share"><i class="fas fa-link"></i> 复制链接</button>
            </div>
            <div id="wechat-qrcode" class="wechat-qrcode" style="display: none;">
                <p>请使用微信扫描二维码分享</p>
                <div id="qrcode-container"></div>
            </div>
            <div id="share-toast" class="toast">分享链接已复制到剪贴板</div>
        </div>
    </div>

    <!-- 添加AI交互区域 -->
    <div class="ai-container">
        <textarea id="ai-input" placeholder="输入文本进行分析..."></textarea>
        <button onclick="analyzeText()">AI分析</button>
        <div id="ai-result"></div>
    </div>

    <script>
        // 节日信息数据，包含背景图片URL
        const festivalInfo = {
            '春节': {
                description: '春节，即农历新年，是中国最重要的传统节日。源自殷商时期岁首祈岁祭祀，传承至今包含扫尘、守岁、拜年、贴春联等习俗，承载着团圆和睦的文化内涵。',
                tag: '团圆安康',
                keywords: ['福', '春联', '鞭炮', '红包', '年夜饭', '拜年'],
                background: 'https://example.com/chunjie.jpg'
            },
            '元宵节': {
                description: '元宵节，又称上元节、小正月、元夕或灯节，时间为每年农历正月十五。正月是农历的元月，古人称“夜”为“宵”，正月十五是一年中第一个月圆之夜，所以称正月十五为“元宵节”。',
                tag: '张灯结彩',
                keywords: ['汤圆', '花灯', '猜灯谜', '赏月'],
                background: 'https://example.com/yuanxiao.jpg'
            },
            '清明节': {
                description: '清明节源自上古春祭，兼具自然节气与人文节日内涵。扫墓祭祖与踏青郊游的节俗传统，体现中国人对生命循环的哲学思考。',
                tag: '慎终追远',
                keywords: ['祭扫', '踏青', '插柳', '寒食', '思念', '重生'],
                background: 'https://example.com/qingming.jpg'
            },
            '端午节': {
                description: '端午节，又称端阳节、龙舟节、重午节、重五节、天中节等，日期在每年农历五月初五，是集拜神祭祖、祈福辟邪、欢庆娱乐和饮食为一体的民俗大节。',
                tag: '龙舟竞渡',
                keywords: ['粽子', '龙舟', '艾草', '雄黄', '屈原'],
                background: 'https://example.com/duanwu.jpg'
            },
            '七夕': {
                description: '七夕节，又称七巧节、七姐节、女儿节、乞巧节、七娘会、七夕祭、牛公牛婆日、巧夕等，是中国民间的传统节日。七夕节由星宿崇拜衍化而来，为传统意义上的七姐诞，因拜祭“七姐”活动在七月七晩上举行，故名“七夕”。',
                tag: '浪漫爱情',
                keywords: ['牛郎', '织女', '银河', '乞巧', '爱情'],
                background: 'https://example.com/qixi.jpg'
            },
            '中秋节': {
                description: '中秋节源自天象崇拜，盛行于唐宋。祭月、赏月、吃月饼、玩花灯等习俗，承载着中国人对家庭团圆、生活美满的精神寄托。',
                tag: '花好月圆',
                keywords: ['月饼', '玉兔', '嫦娥', '赏月', '团圆', '思念'],
                background: 'https://example.com/zhongqiu.jpg'
            },
            '重阳节': {
                description: '重阳节，是中国民间传统节日，节期在每年农历九月初九。“九”数在《易经》中为阳数，“九九”两阳数相重，故曰“重阳”；因日与月皆逢九，故又称为“重九”。九九归真，一元肇始，古人认为九九重阳是吉祥的日子。古时民间在重阳节有登高祈福、拜神祭祖及饮宴祈寿等习俗。传承至今，又添加了敬老等内涵。',
                tag: '登高敬老',
                keywords: ['登高', '茱萸', '菊花', '敬老', '长寿'],
                background: 'https://example.com/chongyang.jpg'
            }
        };

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function () {
            // 获取元素
            const festivalSelect = document.getElementById('festival');
            const otherFestivalContainer = document.getElementById('other-festival-container');
            const otherFestivalInput = document.getElementById('other-festival');
            const recipientSelect = document.getElementById('recipient');
            const otherRecipientContainer = document.getElementById('other-recipient-container');
            const otherRecipientInput = document.getElementById('other-recipient');
            const generateBtn = document.getElementById('generate-btn');
            const loading = document.getElementById('loading');
            const resultContainer = document.getElementById('result-container');
            const resultContent = document.getElementById('result-content');
            const copyBtn = document.getElementById('copy-btn');
            const regenerateBtn = document.getElementById('regenerate-btn');
            const festivalTitle = document.getElementById('festival-title');
            const festivalDescription = document.getElementById('festival-description');
            const festivalTag = document.getElementById('festival-tag');
            const festivalKeywords = document.getElementById('festival-keywords');
            const keywordsList = festivalKeywords.querySelector('.keywords-list');
            const backgroundContainer = document.getElementById('background-container');
            const shareBtn = document.getElementById('share-btn');
            const shareModal = document.getElementById('share-modal');
            const closeBtn = document.querySelector('.close');

            // 添加淡入效果
            document.querySelectorAll('.fade-in').forEach(element => {
                if (element.style.display !== 'none') {
                    element.style.opacity = '0';
                    setTimeout(() => {
                        element.style.opacity = '1';
                    }, 100);
                }
            });

            // 处理其他节日输入框显示逻辑
            festivalSelect.addEventListener('change', function () {
                if (this.value === '其他') {
                    otherFestivalContainer.style.display = 'block';
                    // 恢复默认背景
                    backgroundContainer.style.backgroundImage = '';
                    backgroundContainer.classList.remove('festival-background');
                } else {
                    otherFestivalContainer.style.display = 'none';
                    // 显示节日信息
                    updateFestivalInfo(this.value);
                    // 更新背景图片
                    updateFestivalBackground(this.value);
                }
            });

            // 处理其他祝福对象输入框显示逻辑
            recipientSelect.addEventListener('change', function () {
                if (this.value === '其他') {
                    otherRecipientContainer.style.display = 'block';
                } else {
                    otherRecipientContainer.style.display = 'none';
                }
            });

            // 更新节日信息
            function updateFestivalInfo(festival) {
                if (festivalInfo[festival]) {
                    festivalTitle.textContent = festival;
                    festivalDescription.textContent = festivalInfo[festival].description;
                    festivalTag.textContent = festivalInfo[festival].tag;

                    // 清空关键词列表
                    keywordsList.innerHTML = '';

                    // 添加关键词
                    festivalInfo[festival].keywords.forEach(keyword => {
                        const span = document.createElement('span');
                        span.className = 'keyword';
                        span.textContent = keyword;
                        keywordsList.appendChild(span);
                    });

                    // 显示节日信息
                    document.getElementById('festival-info').style.display = 'block';
                } else {
                    // 隐藏节日信息
                    document.getElementById('festival-info').style.display = 'none';
                }
            }

            // 更新节日背景
            function updateFestivalBackground(festival) {
                if (festivalInfo[festival] && festivalInfo[festival].background) {
                    // 添加背景图片
                    backgroundContainer.style.backgroundImage = `url(${festivalInfo[festival].background})`;
                    // 添加动画类
                    backgroundContainer.classList.add('festival-background');
                } else {
                    // 恢复默认背景
                    backgroundContainer.style.backgroundImage = '';
                    backgroundContainer.classList.remove('festival-background');
                }
            }

            // 生成祝福语按钮点击事件
            generateBtn.addEventListener('click', function () {
                // 验证表单
                if (!validateForm()) {
                    return;
                }

                // 显示加载状态
                showLoading(true);

                // 模拟API调用延迟
                setTimeout(() => {
                    // 生成祝福语
                    const greeting = generateGreeting();

                    // 显示结果
                    resultContent.textContent = greeting;
                    resultContainer.style.display = 'block';

                    // 隐藏加载状态
                    showLoading(false);
                }, 1500);
            });

            // 复制按钮点击事件
            copyBtn.addEventListener('click', function () {
                const textToCopy = resultContent.textContent;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    // 显示复制成功提示
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> 已复制';
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                    }, 2000);
                });
            });

            // 重新生成按钮点击事件
            regenerateBtn.addEventListener('click', function () {
                generateBtn.click();
            });

            // 分享按钮点击事件
            shareBtn.addEventListener('click', function () {
                shareModal.style.display = 'flex';
            });

            // 关闭模态框
            closeBtn.addEventListener('click', function () {
                shareModal.style.display = 'none';
            });

            // 显示/隐藏加载状态
            function showLoading(show) {
                loading.style.display = show ? 'flex' : 'none';
                generateBtn.disabled = show;
            }

            // 验证表单
            function validateForm() {
                let isValid = true;

                // 验证节日
                if (!festivalSelect.value || (festivalSelect.value === '其他' && !otherFestivalInput.value.trim())) {
                    isValid = false;
                    showError(festivalSelect, '请选择或输入节日');
                } else {
                    clearError(festivalSelect);
                }

                // 验证祝福对象
                if (!recipientSelect.value || (recipientSelect.value === '其他' && !otherRecipientInput.value.trim())) {
                    isValid = false;
                    showError(recipientSelect, '请选择或输入祝福对象');
                } else {
                    clearError(recipientSelect);
                }

                // 验证祝福语气
                if (!document.getElementById('tone').value) {
                    isValid = false;
                    showError(document.getElementById('tone'), '请选择祝福语气');
                } else {
                    clearError(document.getElementById('tone'));
                }

                // 验证祝福语长度
                if (!document.getElementById('length').value) {
                    isValid = false;
                    showError(document.getElementById('length'), '请选择祝福语长度');
                } else {
                    clearError(document.getElementById('length'));
                }

                return isValid;
            }

            // 显示错误提示
            function showError(element, message) {
                // 添加错误样式
                element.classList.add('error');

                // 检查是否已存在错误提示元素
                let errorElement = element.nextElementSibling;
                if (!errorElement || !errorElement.classList.contains('error-message')) {
                    errorElement = document.createElement('div');
                    errorElement.className = 'error-message';
                    element.parentNode.insertBefore(errorElement, element.nextSibling);
                }

                errorElement.textContent = message;
            }

            // 清除错误提示
            function clearError(element) {
                element.classList.remove('error');

                // 移除错误提示元素
                const errorElement = element.nextElementSibling;
                if (errorElement && errorElement.classList.contains('error-message')) {
                    errorElement.remove();
                }
            }

            // 生成祝福语（实际应用中应调用API）
            function generateGreeting() {
                const festival = festivalSelect.value === '其他' ? otherFestivalInput.value.trim() : festivalSelect.value;
                const recipient = recipientSelect.value === '其他' ? otherRecipientInput.value : recipientSelect.value;
                const relationship = document.getElementById('relationship').value || '';
                const tone = document.getElementById('tone').value;
                const length = document.getElementById('length').value;
                const keywords = document.getElementById('keywords').value.split(',').map(k => k.trim()).filter(k => k);

                // 祝福语模板库（实际应用中应更丰富）
                const templates = {
                    short: {
                        温馨: {
                            父母: `${festival}到了，愿您健康长寿，幸福安康！`,
                            子女: `宝贝，${festival}快乐！愿你无忧无虑，茁壮成长！`,
                            朋友: `祝你${festival}开心，一切顺遂！`
                        }
                    }
                };

                let greeting = templates[length][tone][relationship] || `在${festival}，给${recipient}送上最美好的祝福！`;

                if (keywords.length > 0) {
                    const keywordStr = keywords.join('、');
                    greeting = greeting.replace('，', `，${keywordStr}，`);
                }

                return greeting;
            }

            // 初始检查
            if (festivalSelect.value && festivalSelect.value !== '其他') {
                updateFestivalInfo(festivalSelect.value);
                updateFestivalBackground(festivalSelect.value);
            }
        });

        function analyzeText() {
            // 这里可以添加AI分析的逻辑
            const inputText = document.getElementById('ai-input').value;
            document.getElementById('ai-result').textContent = `你输入的文本是：${inputText}`;
        }
    </script>
</body>

